FROM node:18-alpine

# הגדרת תיקיית העבודה
WORKDIR /app

# העתקת קבצי package.json ו-package-lock.json
COPY angular/package*.json ./

# התקנת התלויות
RUN npm install

# העתקת שאר קבצי הפרויקט
COPY angular/ ./

# חשיפת הפורט שבו Angular ירוץ
EXPOSE 4200

# הפעלת האפליקציה עם ng serve
CMD ["npm", "run", "start", "--", "--host", "0.0.0.0", "--poll", "2000"]